# 구조체 선언 

```rust
    // struct 키워드로 선언하며 
    struct Member {
        age: i32,
        active: bool,
        name: String
    }
```

# 구조체 인스턴스화, 불변성
```rust
    // 1. 기본적인 구조체 인스턴스 생성
    // 인스턴스화시 구조체에 선언된 필드중 누락된 값이 존재하면 컴파일 에러 
    // ex) missing 'name'
    let mem = Member {
        age: 32,
        active: true,
        name: String::from("nys")
    };

    // mem변수를 mut로 지정하지 않았기 때문에 아래 두 구문은 컴파일 에러를 발생시킨다.
    // ERROR
    mem.age = 32;
    mem.name.push_str("!!");
```

# 구조체 인스턴스화 
```rust
    // 1. 기본적인 구조체 인스턴스 생성
    let mut mem = Member {
        age: 32,
        active: true,
        name: String::from("nys")
    };

    // 2. 인스턴스 업데이트
    mem.age = 18;

    // 3. 기존 인스턴스로 새 인스턴스 생성  
    // 이건 자바스크립트 문법과 비슷한듯?
    let mut mem2 = Member {
        age: 33,
        ..mem
    };

    println!("{}", mem.age);
    println!("{}", mem2.age);
    // ERROR
    println!("{}", mem.name); // 3. 과정에서 소유권이 이동했다.
    println!("{}", mem2.name);
```

# 구조체 메소드

```rust
struct Rect {
    width: i32,
    height: i32,
}

// Rect 구조체에 아래 메소드들을 연결한다.
// 이를 연관함수라고 부른다. impl 뒤에 나오는 타입과 모두 연관된 함수이기 때문이다.
impl Rect {
    // &self는 (self: &Self)의 축약형이다.
    // Self는 인스턴스 자체를 의미한다. 타언어의 this와 비슷한 개념인듯
    // 인스턴스에 대한 참조가 필요허지 않다면 선언하지 않아도 된다.
    // 이 경우는 해당 구조체의 인스턴스를 생성하는 메소드를 정의할때 주로 사용한다.
    fn getArea(&self) -> i32 {
        return self.width * self.height;
    }

    fn canHold(&self, rect: &Rect) -> bool {
        if self.width < rect.width {
            return false;
        }

        if self.height < rect.height {
            return false;
        }
        
        return true;
    }
}
```

# 팩토리 메소드 정의

```rust
impl Rect {
    // Self는 impl이 대상이 되는 타입 즉 Rect에 대한 별칭이다.
    fn makeSquare(width: i32) -> Self {
        return Self {
            width: width,
            height: width
        }
    }
}

// 연관함수는 구조체명에 :: 를 이용해서 접근한다.
let square = Rect::makeSquare(3);

// 연관함수를 사용할때 인스턴스.함수명()으로 호출하면 self를 인자로 넘기는 것을 생략할수 있다.
println!("{}", square.getArea());
// 또한 ::키워드와 직접 self를 인자로 넘겨 사용할수도 있다.
println!("{}", Rect::getArea(&square));

```